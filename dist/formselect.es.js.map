{"version":3,"file":"formselect.es.js","sources":["../src/components/form-select/FormSelect.tsx"],"sourcesContent":["import { ControllerProps, FieldPath, FieldValues, useController } from \"react-hook-form\";\r\nimport { SelectContentProps, SelectItemProps, SelectProps, SelectTriggerProps, SelectValueProps } from \"@radix-ui/react-select\";\r\n\r\nimport { cn } from \"../../lib/utils\";\r\n\r\nimport { SpinnerIcon } from \"../Icons/SpinnerIcon\";\r\nimport { FormControl, FormField, FormItem, FormLabel, FormMessage } from \"../form/Form\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"../select/Select\";\r\n\r\ntype FormSelectProps<TFieldValues extends FieldValues, TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>> = Omit<\r\n  ControllerProps<TFieldValues, TName>,\r\n  \"render\"\r\n> & {\r\n  label: string;\r\n  options: { value: string | number; label: string | number }[];\r\n  loading?: boolean;\r\n  loadingText?: string;\r\n  emptyOptionsText?: string;\r\n  placeholder?: string;\r\n  slotProps?: {\r\n    formItemProps?: React.HTMLAttributes<HTMLDivElement> & React.RefAttributes<HTMLDivElement>;\r\n    formLabelProps?: React.HTMLAttributes<HTMLLabelElement> & React.RefAttributes<HTMLLabelElement>;\r\n    formMessageProps?: React.HTMLAttributes<HTMLParagraphElement> & React.RefAttributes<HTMLParagraphElement>;\r\n    selectProps?: SelectProps;\r\n    selectTriggerProps?: SelectTriggerProps;\r\n    selectValueProps?: Omit<SelectValueProps, \"placeholder\">;\r\n    selectContentProps?: SelectContentProps;\r\n    selectItemProps?: SelectItemProps;\r\n  };\r\n};\r\n\r\nconst FormSelect = <TFieldValues extends FieldValues, TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>>(\r\n  props: FormSelectProps<TFieldValues, TName>,\r\n) => {\r\n  const {\r\n    name,\r\n    control,\r\n    defaultValue,\r\n    disabled,\r\n    rules,\r\n    shouldUnregister,\r\n    label,\r\n    options,\r\n    loading,\r\n    loadingText,\r\n    emptyOptionsText,\r\n    placeholder,\r\n    slotProps,\r\n  } = props;\r\n\r\n  const { field } = useController({ name, control, rules, defaultValue, disabled, shouldUnregister });\r\n\r\n  const isNumericValue = typeof options[0]?.value === \"number\";\r\n\r\n  const handleChange = (value: string) => {\r\n    if (isNumericValue) {\r\n      field.onChange(Number(value));\r\n    } else {\r\n      field.onChange(value);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormField\r\n      control={control}\r\n      name={name}\r\n      defaultValue={defaultValue}\r\n      disabled={disabled}\r\n      rules={rules}\r\n      shouldUnregister={shouldUnregister}\r\n      render={({ field }) => {\r\n        return (\r\n          <FormItem {...(slotProps?.formItemProps ?? {})}>\r\n            <FormLabel {...(slotProps?.formLabelProps ?? {})}>{label}</FormLabel>\r\n            <Select\r\n              {...(slotProps?.selectProps ?? {})}\r\n              disabled={disabled}\r\n              onValueChange={handleChange}\r\n              value={field.value !== undefined ? String(field.value) : undefined}\r\n            >\r\n              <FormControl>\r\n                <SelectTrigger\r\n                  {...(slotProps?.selectTriggerProps ?? {})}\r\n                  className={cn(\"*:truncate [&>span]:inline-block\", slotProps?.selectTriggerProps?.className)}\r\n                >\r\n                  <SelectValue {...(slotProps?.selectValueProps ?? {})} placeholder={placeholder ?? label} />\r\n                </SelectTrigger>\r\n              </FormControl>\r\n              <SelectContent {...(slotProps?.selectContentProps ?? {})}>\r\n                {loading && (\r\n                  <SelectItem {...(slotProps?.selectItemProps ?? {})} value=\"-1\" disabled>\r\n                    <SpinnerIcon className=\"inline-block mb-0.5\" /> {loadingText || \"Loading...\"}\r\n                  </SelectItem>\r\n                )}\r\n                {!loading && !options.length ? (\r\n                  <SelectItem\r\n                    {...(slotProps?.selectItemProps ?? {})}\r\n                    value=\"8fdcaeb67c8ad943c80fe54c3b1059b700d9254389a38a4a1fc39a6eee728623\"\r\n                    disabled\r\n                  >\r\n                    {emptyOptionsText || \"No Items\"}\r\n                  </SelectItem>\r\n                ) : null}\r\n                {options?.map((option, index) => (\r\n                  <SelectItem {...(slotProps?.selectItemProps ?? {})} value={String(option.value)} key={index + \"_\" + label}>\r\n                    {option.label}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n            <FormMessage {...(slotProps?.formMessageProps ?? {})} />\r\n          </FormItem>\r\n        );\r\n      }}\r\n    />\r\n  );\r\n};\r\nexport { FormSelect, type FormSelectProps };\r\n"],"names":["FormSelect","props","name","control","defaultValue","disabled","rules","shouldUnregister","label","options","loading","loadingText","emptyOptionsText","placeholder","slotProps","field","useController","isNumericValue","handleChange","value","jsx","FormField","FormItem","FormLabel","jsxs","Select","FormControl","SelectTrigger","cn","SelectValue","SelectContent","SelectItem","SpinnerIcon","option","index","createElement","FormMessage"],"mappings":";;;;;;;AA+BM,MAAAA,IAAa,CACjBC,MACG;AACG,QAAA;AAAA,IACJ,MAAAC;AAAA,IACA,SAAAC;AAAA,IACA,cAAAC;AAAA,IACA,UAAAC;AAAA,IACA,OAAAC;AAAA,IACA,kBAAAC;AAAA,IACA,OAAAC;AAAA,IACA,SAAAC;AAAA,IACA,SAAAC;AAAA,IACA,aAAAC;AAAA,IACA,kBAAAC;AAAA,IACA,aAAAC;AAAA,IACA,WAAAC;AAAA,EAAA,IACEb,GAEE,EAAE,OAAAc,EAAM,IAAIC,EAAc,EAAE,MAAAd,GAAM,SAAAC,GAAS,OAAAG,GAAO,cAAAF,GAAc,UAAAC,GAAU,kBAAAE,GAAkB,GAE5FU,IAAiB,OAAOR,EAAQ,CAAC,GAAG,SAAU,UAE9CS,IAAe,CAACC,MAAkB;AACtC,IAAIF,IACIF,EAAA,SAAS,OAAOI,CAAK,CAAC,IAE5BJ,EAAM,SAASI,CAAK;AAAA,EAExB;AAGE,SAAA,gBAAAC;AAAA,IAACC;AAAA,IAAA;AAAA,MACC,SAAAlB;AAAA,MACA,MAAAD;AAAA,MACA,cAAAE;AAAA,MACA,UAAAC;AAAA,MACA,OAAAC;AAAA,MACA,kBAAAC;AAAA,MACA,QAAQ,CAAC,EAAE,OAAAQ,0BAENO,GAAU,EAAA,GAAIR,GAAW,iBAAiB,CACzC,GAAA,UAAA;AAAA,QAAA,gBAAAM,EAACG,KAAW,GAAIT,GAAW,kBAAkB,IAAM,UAAMN,GAAA;AAAA,QACzD,gBAAAgB;AAAA,UAACC;AAAA,UAAA;AAAA,YACE,GAAIX,GAAW,eAAe,CAAC;AAAA,YAChC,UAAAT;AAAA,YACA,eAAea;AAAA,YACf,OAAOH,EAAM,UAAU,SAAY,OAAOA,EAAM,KAAK,IAAI;AAAA,YAEzD,UAAA;AAAA,cAAA,gBAAAK,EAACM,GACC,EAAA,UAAA,gBAAAN;AAAA,gBAACO;AAAA,gBAAA;AAAA,kBACE,GAAIb,GAAW,sBAAsB,CAAC;AAAA,kBACvC,WAAWc,EAAG,oCAAoCd,GAAW,oBAAoB,SAAS;AAAA,kBAE1F,UAAA,gBAAAM,EAACS,KAAa,GAAIf,GAAW,oBAAoB,IAAK,aAAaD,KAAeL,EAAO,CAAA;AAAA,gBAAA;AAAA,cAAA,GAE7F;AAAA,gCACCsB,GAAe,EAAA,GAAIhB,GAAW,sBAAsB,CAClD,GAAA,UAAA;AAAA,gBACCJ,KAAA,gBAAAc,EAACO,GAAY,EAAA,GAAIjB,GAAW,mBAAmB,CAAK,GAAA,OAAM,MAAK,UAAQ,IACrE,UAAA;AAAA,kBAAC,gBAAAM,EAAAY,GAAA,EAAY,WAAU,sBAAsB,CAAA;AAAA,kBAAE;AAAA,kBAAErB,KAAe;AAAA,gBAAA,GAClE;AAAA,gBAED,CAACD,KAAW,CAACD,EAAQ,SACpB,gBAAAW;AAAA,kBAACW;AAAA,kBAAA;AAAA,oBACE,GAAIjB,GAAW,mBAAmB,CAAC;AAAA,oBACpC,OAAM;AAAA,oBACN,UAAQ;AAAA,oBAEP,UAAoBF,KAAA;AAAA,kBAAA;AAAA,gBAAA,IAErB;AAAA,gBACHH,GAAS,IAAI,CAACwB,GAAQC,MACpB,gBAAAC,EAAAJ,GAAA,EAAY,GAAIjB,GAAW,mBAAmB,IAAK,OAAO,OAAOmB,EAAO,KAAK,GAAG,KAAKC,IAAQ,MAAM1B,EAAA,GACjGyB,EAAO,KACV,CACD;AAAA,cAAA,EACH,CAAA;AAAA,YAAA;AAAA,UAAA;AAAA,QACF;AAAA,0BACCG,GAAa,EAAA,GAAItB,GAAW,oBAAoB,CAAA,EAAK,CAAA;AAAA,MAAA,GACxD;AAAA,IAEJ;AAAA,EACF;AAEJ;"}